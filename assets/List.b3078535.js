import{r as l,D as $,E as _,f as I,k as U,c as o,j as e,a4 as v,b as M,T as G,u as q,a as C,B as T}from"./index.bf235723.js";import{u as y}from"./index.e8a2e709.js";import{u as J}from"./index.928d20f8.js";import{P as Q}from"./Progress.daed53c1.js";import{I as W}from"./index.fec07b37.js";import{L as f}from"./Loading.08e242b4.js";import{M as X}from"./index.17ea0688.js";import"./index.12cf2eb3.js";import"./Overflow.16dde49b.js";var Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 264c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48zm-8 136H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM480 544H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm-48 308H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm356.8-74.4c29-26.3 47.2-64.3 47.2-106.6 0-79.5-64.5-144-144-144s-144 64.5-144 144c0 42.3 18.2 80.3 47.2 106.6-57 32.5-96.2 92.7-99.2 162.1-.2 4.5 3.5 8.3 8 8.3h48.1c4.2 0 7.7-3.3 8-7.6C564 871.2 621.7 816 692 816s128 55.2 131.9 124.4c.2 4.2 3.7 7.6 8 7.6H880c4.6 0 8.2-3.8 8-8.3-2.9-69.5-42.2-129.6-99.2-162.1zM692 591c44.2 0 80 35.8 80 80s-35.8 80-80 80-80-35.8-80-80 35.8-80 80-80z"}}]},name:"solution",theme:"outlined"},Z=Y,P=function(a,t){return l.exports.createElement($,_(_({},a),{},{ref:t,icon:Z}))};P.displayName="SolutionOutlined";var ee=l.exports.forwardRef(P),ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M824.2 699.9a301.55 301.55 0 00-86.4-60.4C783.1 602.8 812 546.8 812 484c0-110.8-92.4-201.7-203.2-200-109.1 1.7-197 90.6-197 200 0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C345 754.6 314 826.8 312 903.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5A226.62 226.62 0 01612 684c60.9 0 118.2 23.7 161.3 66.8C814.5 792 838 846.3 840 904.3c.1 4.3 3.7 7.7 8 7.7h56a8 8 0 008-8.2c-2-77-33-149.2-87.8-203.9zM612 612c-34.2 0-66.4-13.3-90.5-37.5a126.86 126.86 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4 0 34.2-13.3 66.3-37.5 90.5A127.3 127.3 0 01612 612zM361.5 510.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.9-1.7-203.3 89.2-203.3 199.9 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.9-1 6.5-4.7 6-8.7z"}}]},name:"team",theme:"outlined"},te=ae,H=function(a,t){return l.exports.createElement($,_(_({},a),{},{ref:t,icon:te}))};H.displayName="TeamOutlined";var se=l.exports.forwardRef(H);const le=i=>{var p;const{data:a}=i,{presaleState:t=0}=a,{t:c}=I(),r=U(),[d,u]=l.exports.useState(""),[x,n]=J({targetDate:d,onEnd:()=>{u(t===0||t===null?v.utc(a.presaleEtime).local().format():v.utc(a.presaleEtime).local().format())}}),{days:g,hours:m,minutes:N,seconds:h}=n,b=l.exports.useMemo(()=>()=>[0,1,2].includes(t)?o("div",{className:"launchpadList_sale_flex",children:[o("span",{className:"ellipsis",children:[" ",c("launchpad:labels.PresaleEndsIn"),":"]}),o("time",{className:"ellipsis",children:[g," : ",m," : ",N," : ",h]})]}):o("div",{className:"launchpadList_sale_flex",children:[e("span",{className:"ellipsis"}),e("time",{className:"ellipsis"})]}),[x]);return y(()=>{t===0?u(v.utc(a.presaleEtime).local().format()):(t===1||t===2)&&u(v.utc(a.presaleStime).local().format())},[t]),e(M,{children:o("div",{className:"launchpadList_box_flex",children:[a.logoUrl?e("div",{className:"launchpadList_box_logo",children:e(W,{src:a.logoUrl,alt:"",fallback:G})}):e("div",{className:"icon_default"}),e("h3",{className:"ellipsis",children:a.coinName||a.symbol}),e("p",{className:"launchpadList_box_tips",children:a.rate}),o("h6",{className:"launchpadList_box_title",children:["1BNB = ",a.presaleRate,a.coinName]}),e("h6",{className:"launchpadList_box_title",children:"Soft/Hard Cap:"}),o("strong",{className:"launchpadList_box_limit",children:[a.softCap,"BNB - ",a.hardCap,"BNB"]}),e(Q,{data:{presaleContract:a.presaleContract,maxBuy:a.hardCap,contribution:a.contribution}}),o("div",{className:"launchpadList_sale",children:[e(b,{}),e("button",{className:"btn_orange launchpadList_sale_btn",onClick:()=>{r(`/launchpad/detail?token=${a.presaleContract}`)},children:c("launchpad:buttons.ViewPool")})]}),t>=0&&e("mark",{className:`launchpadList_box_status ${(p=["foreshow","underway","finish","end","cancel"][t])!=null?p:""}`,children:c(`launchpad:status.${a.presaleStateTitle}`)})]})})};var E=l.exports.memo(le);const pe=()=>{var O,z,B;const{t:i}=I(),a=q(),{loading:t}=C(s=>s.loading.models.list),c=C(s=>s.user),{list:r,myList:d,listCount:u,myListCount:x}=C(s=>s.list),[n,g]=l.exports.useState("list"),[m,N]=l.exports.useState(1),[h,b]=l.exports.useState(1),p=l.exports.useRef(null),w=l.exports.useMemo(()=>[{label:i("launchpad:headers.LaunchpadList"),key:"list",icon:e(ee,{})},{label:i("launchpad:headers.MyContributions"),key:"my",icon:e(se,{})}],[]),A=u>r.length,R=x>d.length,S=l.exports.useCallback(s=>{g(s.key)},[]),k=l.exports.useCallback(async()=>{var s;n==="list"?(N(m+1),a.list.fetchListData({page:m+1,size:6})):(b(h+1),a.list.fetchMyListData({page:h+1,size:6,wallet:(s=c.web3Context)==null?void 0:s.account}))},[n,m,h]),D=l.exports.useMemo(()=>()=>e(X,{onClick:S,selectedKeys:[n],mode:"horizontal",items:w}),[S,n,w]),j=l.exports.useMemo(()=>()=>r&&u>=0?o(M,{children:[e("div",{className:"launchpadList_box",children:r==null?void 0:r.map((s,L)=>e(E,{data:s},L))}),e("div",{className:"loading_more_box",children:t?e("div",{className:"loading_box",children:e(f,{})}):A?e(T,{onClick:k,children:i("launchpad:buttons.loadingMore")}):e("span",{className:"no_more",children:i("launchpad:tips.noMore")})})]}):e("div",{className:"loading_more_box",children:e("div",{className:"loading_box",children:e(f,{})})}),[r,t,n]),K=l.exports.useMemo(()=>()=>d&&x>=0?o(M,{children:[e("div",{className:"launchpadList_box",children:d.map((s,L)=>e(E,{data:s},L))}),e("div",{className:"loading_more_box",children:t?e("div",{className:"loading_box",children:e(f,{})}):R?e(T,{onClick:k,children:i("launchpad:buttons.loadingMore")}):e("span",{className:"no_more",children:i("launchpad:tips.noMore")})})]}):e("div",{className:"loading_more_box",children:e("div",{className:"loading_box",children:e(f,{})})}),[d,t,n]),V=()=>{a.list.removeListData(),a.list.fetchListData({page:1,size:6})},F=()=>{var s;b(1),a.list.removeMyListData(),a.list.fetchMyListData({page:1,size:6,wallet:(s=c.web3Context)==null?void 0:s.account})};return y(()=>{n==="list"&&r.length===0&&V()},[(O=c.web3Context)==null?void 0:O.chainId]),y(()=>{var s;((s=c.web3Context)==null?void 0:s.account)&&d.length===0&&F()},[(z=c.web3Context)==null?void 0:z.account,(B=c.web3Context)==null?void 0:B.chainId]),n==="list"&&t&&!r.length||n==="my"&&t&&!d.length?o("div",{className:"item_launchpadList",children:[e(D,{}),e("div",{className:"loading_box",children:e(f,{})})]}):o("div",{className:"item_launchpadList",ref:p,children:[e(D,{}),e("div",{className:`list_info_box ${n==="list"?"show":"hidden"}`,ref:p,children:e(j,{})}),e("div",{className:`list_info_box ${n==="my"?"show":"hidden"}`,children:e(K,{})})]})};export{pe as LaunchpadList,pe as default};
